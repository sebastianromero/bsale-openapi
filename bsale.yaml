openapi: 3.1.0
info:
  title: Bsale API Chile
  version: '0.0.1'
  description: |
    Especificación OpenAPI 3.1 completa para los endpoints de documentos de la API de Bsale Chile.
    
    Basada en <a href="https://docs.bsale.dev/CL">https://docs.bsale.dev/CL</a>
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
servers:
  - url: https://api.bsale.io/v1
    description: Producción
security:
  - AccessToken:
      - read
      - write
components:
  securitySchemes:
    AccessToken:
      type: apiKey
      in: header
      name: access_token
      description: Token de acceso para autenticación
  schemas:
    Error:
      type: object
      properties:
        code:
          type: integer
          description: Código de error HTTP
        error:
          type: string
          description: Título corto del error
        message:
          type: string
          description: Descripción detallada del error
  responses:
    BadRequest:
      description: Petición inválida
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    Unauthorized:
      description: Access Token incorrecto
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    PaymentRequired:
      description: Instancia bloqueada por no pago
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    Forbidden:
      description: No tiene autorización para acceder al recurso solicitado
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    NotFound:
      description: Recurso solicitado no pudo ser encontrado
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    MethodNotAllowed:
      description: Método no permitido en este recurso
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    TooManyRequests:
      description: Límite de solicitudes excedido
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    InternalServerError:
      description: Error inesperado en el servidor
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    UnknownError:
      description: Error no manejado por la API
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
tags:
  - name: Documentos
    description: Operaciones relacionadas con documentos de venta, boletas, facturas, etc.
  - name: Clientes
  - name: Productos
  - name: Variantes
  - name: Devoluciones
  - name: Despachos
  - name: Listas de precios
  - name: Pagos
  - name: Descuentos
  - name: Sucursales
paths:
  /documents.json:
    get:
      tags:
        - Documentos
      summary: Listar documentos
      description: Retorna todos los documentos de venta, pre-venta, despachos, etc.
      parameters:
        - in: query
          name: limit
          schema:
            type: integer
        - in: query
          name: offset
          schema:
            type: integer
        - in: query
          name: fields
          schema:
            type: string
        - in: query
          name: expand
          schema:
            type: string
        - in: query
          name: emissiondate
          schema:
            type: integer
        - in: query
          name: expirationdate
          schema:
            type: integer
        - in: query
          name: emissiondaterange
          schema:
            type: string
        - in: query
          name: number
          schema:
            type: integer
        - in: query
          name: token
          schema:
            type: string
        - in: query
          name: documenttypeid
          schema:
            type: integer
        - in: query
          name: clientid
          schema:
            type: integer
        - in: query
          name: clientcode
          schema:
            type: string
        - in: query
          name: officeid
          schema:
            type: integer
        - in: query
          name: saleconditionid
          schema:
            type: integer
        - in: query
          name: informedsii
          schema:
            type: integer
        - in: query
          name: codesii
          schema:
            type: integer
        - in: query
          name: totalamount
          schema:
            type: number
        - in: query
          name: referencecode
          schema:
            type: integer
        - in: query
          name: referencenumber
          schema:
            type: integer
        - in: query
          name: state
          schema:
            type: integer
      responses:
        '200':
          description: Lista de documentos obtenida exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  href:
                    type: string
                  count:
                    type: integer
                  limit:
                    type: integer
                  offset:
                    type: integer
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                        number:
                          type: integer
                        totalAmount:
                          type: number
    post:
      tags:
        - Documentos
      summary: Crear un documento de venta
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                documentTypeId:
                  type: integer
                officeId:
                  type: integer
                priceListId:
                  type: integer
                emissionDate:
                  type: integer
                expirationDate:
                  type: integer
                declareSii:
                  type: boolean
                details:
                  type: array
                  items:
                    type: object
                client:
                  type: object
                payments:
                  type: array
                  items:
                    type: object
                references:
                  type: array
                  items:
                    type: object
                dynamicAttributes:
                  type: array
                  items:
                    type: object
      responses:
        '201':
          description: Documento creado exitosamente

  /documents/{id}.json:
    get:
      tags:
        - Documentos
      summary: Obtener un documento específico
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
        - in: query
          name: expand
          schema:
            type: string
      responses:
        '200':
          description: Documento obtenido exitosamente
    delete:
      tags:
        - Documentos
      summary: Eliminar un documento no electrónico
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
        - in: query
          name: officeId
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Documento eliminado exitosamente

  /documents/summary.json:
    get:
      tags:
        - Documentos
      summary: Obtener resumen de documentos
      parameters:
        - in: query
          name: emissiondaterange
          schema:
            type: string
        - in: query
          name: generationdaterange
          schema:
            type: string
        - in: query
          name: codesii
          schema:
            type: string
        - in: query
          name: perdocument
          schema:
            type: boolean
      responses:
        '200':
          description: Resumen de documentos

  /documents/summary/ticket.json:
    get:
      tags:
        - Documentos
      summary: Obtener resumen de ventas boletas electrónicas
      parameters:
        - in: query
          name: rcofdaterange
          schema:
            type: string
      responses:
        '200':
          description: Resumen de boletas electrónicas

  /documents/count.json:
    get:
      tags:
        - Documentos
      summary: Obtener la cantidad de documentos
      parameters:
        - in: query
          name: state
          schema:
            type: integer
      responses:
        '200':
          description: Cantidad de documentos

  /documents/costs.json:
    get:
      tags:
        - Documentos
      summary: Obtener costos de una venta
      parameters:
        - in: query
          name: documentid
          schema:
            type: integer
        - in: query
          name: number
          schema:
            type: integer
        - in: query
          name: codesii
          schema:
            type: integer
      responses:
        '200':
          description: Costos asociados a documentos

  /documents/{id}/details.json:
    get:
      tags:
        - Documentos
      summary: Obtener detalles de un documento
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Detalles del documento

  /documents/{documentId}/details/{detailId}.json:
    get:
      tags:
        - Documentos
      summary: Obtener un detalle específico
      parameters:
        - in: path
          name: documentId
          required: true
          schema:
            type: integer
        - in: path
          name: detailId
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Detalle individual

  /documents/{id}/references.json:
    get:
      tags:
        - Documentos
      summary: Obtener referencias del documento
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Referencias del documento

  /documents/{documentId}/references/{referenceId}.json:
    get:
      tags:
        - Documentos
      summary: Obtener una referencia específica del documento
      parameters:
        - in: path
          name: documentId
          required: true
          schema:
            type: integer
        - in: path
          name: referenceId
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Referencia individual

  /documents/{id}/document_taxes.json:
    get:
      tags:
        - Documentos
      summary: Obtener impuestos asociados al documento
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Impuestos del documento

  /documents/{documentId}/document_taxes/{taxId}.json:
    get:
      tags:
        - Documentos
      summary: Obtener un impuesto específico del documento
      parameters:
        - in: path
          name: documentId
          required: true
          schema:
            type: integer
        - in: path
          name: taxId
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Impuesto individual

  /documents/{id}/sellers.json:
    get:
      tags:
        - Documentos
      summary: Obtener vendedores asociados al documento
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Vendedores del documento

  /documents/{id}/attributes.json:
    get:
      tags:
        - Documentos
      summary: Obtener atributos dinámicos del documento
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Atributos dinámicos del documento
  /document_types.json:
    get:
      tags:
        - Documentos
      summary: Listar tipos de documentos
      description: Retorna los tipos de documentos que pueden ser generados por el sistema, como factura electrónica, boleta electrónica, etc.
      parameters:
        - in: query
          name: limit
          schema:
            type: integer
          description: Límite de registros
        - in: query
          name: offset
          schema:
            type: integer
          description: Número de registros a saltar
        - in: query
          name: fields
          schema:
            type: string
          description: Campos a incluir en la respuesta
      responses:
        '200':
          description: Lista de tipos de documentos obtenida exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  href:
                    type: string
                  count:
                    type: integer
                  limit:
                    type: integer
                  offset:
                    type: integer
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                          description: Identificador único del tipo de documento
                        name:
                          type: string
                          description: Nombre del tipo de documento
                        codeSii:
                          type: integer
                          description: Código tributario del documento (SII Chile)
                        thirdParty:
                          type: integer
                          description: indica si el tipo de documento es de terceros (0 o 1)
                        electronicTransfer:
                          type: integer
                          description: indica si el tipo de documento se transfiere al SII (0 o 1)
                        isFel:
                          type: integer
                          description: indica si el documento es factura electrónica (0 o 1)
                        useClient:
                          type: integer
                          description: indica si requiere cliente (0 o 1)
                        skipDetailOnXml:
                          type: integer
                          description: indica si el documento incluirá el detalle en el XML (0 o 1)
                        state:
                          type: integer
                          description: estado del tipo de documento indica si el tipo esta activo(0) o inactivo (1)
  
  /documents/third_party.json:
    post:
      tags:
        - Documentos
      summary: Crear documento de tercero
      description: Crea un documento de terceros como facturas recibidas
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                documentTypeId:
                  type: integer
                  description: Id del tipo de documento
                officeId:
                  type: integer
                  description: Id de la sucursal donde se emite el documento
                emissionDate:
                  type: integer
                  description: Fecha de emisión del documento (timestamp en segundos)
                expirationDate:
                  type: integer
                  description: Fecha de vencimiento del documento (timestamp en segundos)
                number:
                  type: string
                  description: Folio del documento
                netAmount:
                  type: number
                  description: Monto neto del documento
                taxAmount:
                  type: number
                  description: IVA del documento
                totalAmount:
                  type: number
                  description: Monto total del documento
                client:
                  type: object
                  description: Cliente del documento, en este caso quien emite la factura
                  properties:
                    code:
                      type: string
                      description: Código único del cliente
                    municipality:
                      type: string
                      description: Comuna del cliente
                    activity:
                      type: string
                      description: Giro del cliente
                    company:
                      type: string
                      description: Razón social cliente
                    address:
                      type: string
                      description: Dirección cliente
                    city:
                      type: string
                      description: Ciudad del cliente
                    email:
                      type: string
                      description: Email del cliente
                details:
                  type: array
                  description: Detalles del documento
                  items:
                    type: object
                    properties:
                      description:
                        type: string
                        description: Descripción del detalle
                      quantity:
                        type: number
                        description: Cantidad
                      netUnitValue:
                        type: number
                        description: Valor unitario neto
                      taxId:
                        type: number
                        description: Id del tipo de impuesto
                      totalUnitValue:
                        type: number
                        description: Valor unitario total
                      comment:
                        type: string
                        description: Comentario del detalle
              required:
                - documentTypeId
                - officeId
                - client
                - details

      responses:
        '201':
          description: Documento creado exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                    description: Identificador único del documento generado
                  token:
                    type: string
                    description: Token único del documento
                  href:
                    type: string
                    description: URL para acceder al documento
  
  /documents/third_party/{id}.json:
    get:
      tags:
        - Documentos
      summary: Obtener un documento de tercero
      description: Retorna un documento específico
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: Identificador único del documento
      responses:
        '200':
          description: Documento obtenido exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                    description: Identificador único del documento
                  number:
                    type: string
                    description: Folio del documento
                  totalAmount:
                    type: number
                    description: Monto total del documento
                  details:
                    type: array
                    description: Detalles del documento
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                          description: Identificador único del detalle
                        quantity:
                          type: number
                          description: Cantidad
                        netAmount:
                          type: number
                          description: Monto neto del detalle
                        totalAmount:
                          type: number
                          description: Monto total del detalle

  /document_shipping_types.json:
    get:
      tags:
        - Documentos
      summary: Listar tipos de despacho
      description: Retorna todos los tipos de despacho disponibles en la generación de un documento despacho.
      parameters:
        - in: query
          name: expand
          schema:
            type: string
          description: Permite expandir nodos adicionales como "bookings" o "shippingTypes"
      responses:
        '200':
          description: Lista de tipos de despacho obtenida exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  href:
                    type: string
                  count:
                    type: integer
                  limit:
                    type: integer
                  offset:
                    type: integer
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                          description: Identificador único del tipo de despacho
                        name:
                          type: string
                          description: Nombre del tipo de despacho
                        prefix:
                          type: string
                          description: Prefijo documento
                        codeSii:
                          type: integer
                          description: Código tributario (SII Chile)
                        saveInfoCtaCte:
                          type: integer
                          description: Indica si el documento afectará la cuenta corriente del cliente
                          enum: boolean
                        state:
                          type: integer
                          description: Estado del documento (0 activo, 1 inactivo)
                          enum: boolean
                        editable:
                          type: integer
                          description: Indica si es posible editar el documento
                          enum: boolean
                        isFel:
                          type: integer
                          description: Indica si el documento es electrónico
                          enum: boolean
                        bookings:
                          type: array
                          description: Existencias
                          items:
                            type: object
                            properties:
                              id:
                                type: integer
                              href:
                                type: string
                              name:
                                type: string

  /shipping_types.json:
    get:
      tags:
        - Envíos
      summary: Listar tipos de envío
      description: Retorna todos los tipos de envío disponibles para un documento de despacho.
      responses:
        '200':
          description: Lista de tipos de envío obtenida exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  href:
                    type: string
                  count:
                    type: integer
                  limit:
                    type: integer
                  offset:
                    type: integer
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                          description: Identificador único del tipo de envío
                        name:
                          type: string
                          description: Nombre del tipo de envío
                        state:
                          type: integer
                          description: Estado del tipo de envío (0 activo, 1 inactivo)
                          enum: boolean

  /documents/shipping.json:
    post:
      tags:
        - Envíos
      summary: Crear un documento de despacho
      description: Genera un documento de despacho, como Guías de despacho electrónicas.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                documentTypeId:
                  type: integer
                  description: Id del tipo de documento a generar (Shipping)
                officeId:
                  type: integer
                  description: Id de la sucursal donde se emite el documento
                priceListId:
                  type: integer
                  description: Id de la lista de precio utilizada
                emissionDate:
                  type: integer
                  description: Fecha de emisión del documento (timestamp en segundos)
                shippingTypeId:
                  type: integer
                  description: Id del tipo de envío
                municipality:
                  type: string
                  description: Comuna de destino
                city:
                  type: string
                  description: Ciudad de destino
                address:
                  type: string
                  description: Dirección de destino
                declareSii:
                  type: boolean
                  description: Indica si el documento se debe declarar al Servicio de Impuestos Internos
                recipient:
                  type: object
                  description: Receptor del documento
                  properties:
                    code:
                      type: string
                      description: Código único del cliente
                    municipality:
                      type: string
                      description: Comuna del cliente
                    activity:
                      type: string
                      description: Giro del cliente
                    company:
                      type: string
                      description: Razón social cliente
                    address:
                      type: string
                      description: Dirección cliente
                    city:
                      type: string
                      description: Ciudad del cliente
                    email:
                      type: string
                      description: Email del cliente
                details:
                  type: array
                  description: Detalles del documento
                  items:
                    type: object
                    properties:
                      variantId:
                        type: integer
                        description: Id de la variante del producto
                      quantity:
                        type: number
                        description: Cantidad del producto
                      netUnitValue:
                        type: number
                        description: Valor neto unitario del producto o servicio
                references:
                  type: array
                  description: Referencias del documento que se generará
                  items:
                    type: object
                    properties:
                      documentId:
                        type: integer
                        description: Id documento que se hace referencia
                      number:
                        type: string
                        description: Número del documento referencia
                      referenceDate:
                        type: integer
                        description: Fecha del documento referencia (timestamp en segundos)
                      reason:
                        type: string
                        description: Razón del documento referencia
                      codeSii:
                        type: integer
                        description: Código tributario del documento referencia (SII Chile)
              required:
                - documentTypeId
                - officeId
                - shippingTypeId
                - details
      responses:
        '201':
          description: Documento de despacho creado exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                    description: Identificador único del documento generado
                  number:
                    type: integer
                    description: Folio asignado al documento
                  token:
                    type: string
                    description: Token único del documento
                  href:
                    type: string
                    description: URL para acceder al documento

  /documents/shipping/{id}.json:
    put:
      tags:
        - Documentos
      summary: Actualizar un documento de despacho
      description: Actualiza un documento tipo despacho
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: Identificador único del documento de despacho a actualizar
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                id:
                  type: integer
                  description: Identificador único del documento
                document:
                  type: object
                  description: Documento a actualizar
                  properties:
                    municipality:
                      type: string
                      description: Comuna de destino
                    city:
                      type: string
                      description: Ciudad de destino
                    address:
                      type: string
                      description: Dirección de destino
                    urlCallback:
                      type: string
                      description: URL callback que será enviada en un POST
                    shippingTypeId:
                      type: integer
                      description: Id del tipo de envío
      responses:
        '200':
          description: Documento de despacho actualizado exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                    description: Identificador único del documento actualizado
                  href:
                    type: string
                    description: URL para acceder al documento

  /documents/{id}/shipping.json:
    get:
      tags:
        - Documentos
      summary: Obtener documento de despacho a partir del documento ventas
      description: Retorna detalles del documento despacho a partir de un documento de venta
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: Identificador único del documento de venta
      responses:
        '200':
          description: Información del documento de despacho obtenida exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                    description: Identificador único del documento de despacho
                  documentId:
                    type: integer
                    description: Identificador único del documento de venta relacionado
                  shippingTypeId:
                    type: integer
                    description: Id del tipo de envío
                  address:
                    type: string
                    description: Dirección de despacho
                  municipality:
                    type: string
                    description: Comuna de despacho
                  city:
                    type: string
                    description: Ciudad de despacho
                  urlCallback:
                    type: string
                    description: URL de callback
                  state:
                    type: integer
                    description: Estado del despacho (0:ok, 1:pendiente, etc)
                  dispatchDate:
                    type: integer
                    description: Fecha de despacho (timestamp)
                  packageNumber:
                    type: integer
                    description: Número de paquetes
                  shippingOrderDate:
                    type: integer
                    description: Fecha de orden de despacho (timestamp)
                  shippingCompanyId:
                    type: integer
                    description: Id de la empresa transportista
                  shippingCompanyCode:
                    type: string
                    description: Código único de la empresa transportista
                  shippingCompanyName:
                    type: string
                    description: Nombre de la empresa transportista
                  trackingCode:
                    type: string
                    description: Código seguimiento
                  trackingUrl:
                    type: string
                    description: URL seguimiento


  /returns.json:
    get:
      tags:
        - Devoluciones
      summary: Listar devoluciones
      description: Retorna todas las devoluciones generadas
      parameters:
        - in: query
          name: limit
          schema:
            type: integer
          description: Límite de registros a retornar
        - in: query
          name: offset
          schema:
            type: integer
          description: Número de registros a saltar
        - in: query
          name: fields
          schema:
            type: string
          description: Campos a incluir en la respuesta
        - in: query
          name: expand
          schema:
            type: string
          description: Relaciones a expandir
        - in: query
          name: returndate
          schema:
            type: integer
          description: Filtra por fecha de devolución
        - in: query
          name: number
          schema:
            type: integer
          description: Filtra por número de documento
        - in: query
          name: clientid
          schema:
            type: integer
          description: Filtra por ID de cliente
        - in: query
          name: documentid
          schema:
            type: integer
          description: Filtra por ID de documento original
        - in: query
          name: officeid
          schema:
            type: integer
          description: Filtra por ID de sucursal
      responses:
        '200':
          description: Lista de devoluciones obtenida exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  href:
                    type: string
                    description: URL de la colección
                  count:
                    type: integer
                    description: Cantidad de registros
                  limit:
                    type: integer
                    description: Límite de registros
                  offset:
                    type: integer
                    description: Registros saltados
                  items:
                    type: array
                    description: Lista de devoluciones
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                          description: ID de la devolución
                        documentId:
                          type: integer
                          description: ID del documento de devolución
                        originalDocumentId:
                          type: integer
                          description: ID del documento original
                        returnDate:
                          type: integer
                          description: Fecha de devolución (timestamp)
                        motive:
                          type: string
                          description: Motivo de la devolución
    post:
      tags:
        - Devoluciones
      summary: Crear una devolución
      description: Genera un documento de devolución, como una Nota de crédito electrónica
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                documentTypeId:
                  type: integer
                  description: Id del tipo de documento a generar (Nota de crédito electrónica)
                officeId:
                  type: integer
                  description: Id de la sucursal donde se emite el documento
                referenceDate:
                  type: integer
                  description: Fecha del documento referencia (timestamp en segundos)
                expirationDate:
                  type: integer
                  description: Fecha de vencimiento del documento (timestamp en segundos)
                emissionDate:
                  type: integer
                  description: Fecha de emisión del documento (timestamp en segundos)
                motive:
                  type: string
                  description: Motivo de la devolución
                declareSii:
                  type: boolean
                  description: Indica si el documento se debe declarar al SII
                priceListId:
                  type: integer
                  description: Id de la lista de precio utilizada
                document:
                  type: object
                  description: Documento de referencia
                  properties:
                    id:
                      type: integer
                      description: Id documento que se hace referencia (venta)
                details:
                  type: array
                  description: Detalles del documento
                  items:
                    type: object
                    properties:
                      detailId:
                        type: integer
                        description: Id del detalle original
                      quantity:
                        type: number
                        description: Cantidad a devolver
                      unitValue:
                        type: number
                        description: Valor unitario de devolución (opcional)
                client:
                  type: object
                  description: Cliente del documento
                  properties:
                    code:
                      type: string
                      description: Código único de cliente
                    city:
                      type: string
                      description: Ciudad del cliente
                    company:
                      type: string
                      description: Razón social cliente
                    municipality:
                      type: string
                      description: Comuna del cliente
                    activity:
                      type: string
                      description: Giro del cliente
                    address:
                      type: string
                      description: Dirección cliente
              required:
                - documentTypeId
                - officeId
                - document
                - details
      responses:
        '201':
          description: Documento de devolución creado exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                    description: Identificador único del documento generado
                  number:
                    type: integer
                    description: Folio asignado al documento
                  token:
                    type: string
                    description: Token único del documento
                  href:
                    type: string
                    description: URL para acceder al documento

  /returns/{id}.json:
    get:
      tags:
        - Devoluciones
      summary: Obtener una devolución específica
      description: Retorna una devolución específica según su ID
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: Identificador único de la devolución
      responses:
        '200':
          description: Devolución obtenida exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                    description: Identificador único de la devolución
                  document:
                    type: object
                    description: Documento de devolución generado
                    properties:
                      id:
                        type: integer
                        description: ID del documento
                      number:
                        type: integer
                        description: Número de documento
                      token:
                        type: string
                        description: Token único del documento
                  details:
                    type: array
                    description: Detalles de la devolución
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                          description: ID del detalle
                        quantity:
                          type: number
                          description: Cantidad devuelta
                        unitValue:
                          type: number
                          description: Valor unitario de devolución


  /products.json:
    get:
      tags:
        - Productos
      summary: Listar productos
      description: Retorna una lista de productos
      parameters:
        - in: query
          name: limit
          schema:
            type: integer
        - in: query
          name: offset
          schema:
            type: integer
        - in: query
          name: fields
          schema:
            type: string
        - in: query
          name: expand
          schema:
            type: string
        - in: query
          name: name
          schema:
            type: string
        - in: query
          name: code
          schema:
            type: string
        - in: query
          name: barcode
          schema:
            type: string
        - in: query
          name: serialnumber
          schema:
            type: string
        - in: query
          name: classification
          schema:
            type: integer
        - in: query
          name: prestashopid
          schema:
            type: integer
        - in: query
          name: state
          schema:
            type: integer
        - in: query
          name: producttype
          schema:
            type: integer
      responses:
        '200':
          description: Lista de productos obtenida exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        href:
                          type: string
                        id:
                          type: integer
                        name:
                          type: string
                        description:
                          type: string
                        classification:
                          type: integer
                        hasVariants:
                          type: boolean
                        state:
                          type: integer
    post:
      tags:
        - Productos
      summary: Crear un producto
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                description:
                  type: string
                classification:
                  type: integer
                hasVariants:
                  type: boolean
                state:
                  type: integer
      responses:
        '201':
          description: Producto creado exitosamente

  /products/{id}.json:
    get:
      tags:
        - Productos
      summary: Obtener un producto específico
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
        - in: query
          name: expand
          schema:
            type: string
      responses:
        '200':
          description: Producto obtenido exitosamente

  /products/count.json:
    get:
      tags:
        - Productos
      summary: Obtener cantidad de productos
      parameters:
        - in: query
          name: state
          schema:
            type: integer
      responses:
        '200':
          description: Cantidad de productos obtenida exitosamente

  /products/{id}/variants.json:
    get:
      tags:
        - Productos
      summary: Obtener variantes de un producto
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Variantes obtenidas exitosamente
        '400':
          description: Error al obtener variantes


  /variants.json:
    get:
      tags:
        - Variantes
      summary: Listar variantes
      parameters:
        - in: query
          name: limit
          schema:
            type: integer
          description: Limita la cantidad de items de una respuesta JSON (máx 50, por defecto 25)
        - in: query
          name: offset
          schema:
            type: integer
          description: Permite paginar los items de una respuesta JSON (por defecto 0)
        - in: query
          name: fields
          schema:
            type: string
          description: Solo devolver atributos específicos de un recurso
        - in: query
          name: expand
          schema:
            type: string
          description: Permite expandir instancias y colecciones para traer relaciones en una sola petición
        - in: query
          name: description
          schema:
            type: string
          description: Permite filtrar por nombre de la variante
        - in: query
          name: barcode
          schema:
            type: string
          description: Filtra por código de barra de la variante
        - in: query
          name: code
          schema:
            type: string
          description: Filtra por código (SKU) de la variante
        - in: query
          name: serialnumber
          schema:
            type: string
          description: Filtra por numero de serie de la variante
        - in: query
          name: productid
          schema:
            type: integer
          description: Filtra variantes por el id del producto
        - in: query
          name: state
          schema:
            type: integer
            enum: [ 0,1 ]
          description: Indica si las variantes están activas(0) o inactivas (1)
    post:
      tags:
        - Variantes
      summary: Crear una variante
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                productId:
                  type: integer
                  description: Id del producto al cual pertenece la variante
                code:
                  type: string
                  description: Código único producto
                barCode:
                  type: string
                  description: Código de barras del producto
                serialNumber:
                  type: string
                  description: Número de serie del producto
                unlimitedStock:
                  type: boolean
                  description: Define si la variante posee stock ilimitado
                allowNegativeStock:
                  type: boolean
                  description: Define si la variante permite stock negativo
                state:
                  type: integer
                  description: Estado de la variante (0 activo, 1 inactivo)
              required:
                - productId
      responses:
        '201':
          description: Variante creada exitosamente
      parameters:
        - in: query
          name: limit
          schema:
            type: integer
        - in: query
          name: offset
          schema:
            type: integer
        - in: query
          name: fields
          schema:
            type: string
        - in: query
          name: expand
          schema:
            type: string
        - in: query
          name: code
          schema:
            type: string
        - in: query
          name: barcode
          schema:
            type: string
        - in: query
          name: serialnumber
          schema:
            type: string
        - in: query
          name: productid
          schema:
            type: integer
        - in: query
          name: state
          schema:
            type: integer

  /variants/{id}.json:
    get:
      tags:
        - Variantes
      summary: Obtener una variante específica
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
        - in: query
          name: expand
          schema:
            type: string
      responses:
        '200':
          description: Variante obtenida exitosamente
    put:
      tags:
        - Variantes
      summary: Actualizar una variante
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                code:
                  type: string
                  description: Código único producto
                barCode:
                  type: string
                  description: Código de barras del producto
                serialNumber:
                  type: string
                  description: Número de serie del producto
                unlimitedStock:
                  type: boolean
                  description: Define si la variante posee stock ilimitado
                allowNegativeStock:
                  type: boolean
                  description: Define si la variante permite stock negativo
                state:
                  type: integer
                  description: Estado de la variante (0 activo, 1 inactivo)
      responses:
        '200':
          description: Variante actualizada exitosamente
    delete:
      tags:
        - Variantes
      summary: Eliminar una variante
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Variante eliminada exitosamente
  /variant_cost_histories.json:
    get:
      tags:
        - Costos
      summary: Listar historial de costos de variantes
      parameters:
        - in: query
          name: limit
          schema:
            type: integer
        - in: query
          name: offset
          schema:
            type: integer
        - in: query
          name: fields
          schema:
            type: string
        - in: query
          name: variantid
          schema:
            type: integer
      responses:
        '200':
          description: Historial de costos obtenido exitosamente


  /product_types.json:
    get:
      tags:
        - Productos
      summary: Listar tipos de producto
      description: Retorna una lista de tipos de producto
      parameters:
        - in: query
          name: limit
          schema:
            type: integer
          description: Límite de registros
        - in: query
          name: offset
          schema:
            type: integer
          description: Número de registros a saltar
        - in: query
          name: fields
          schema:
            type: string
          description: Selecciona los campos a incluir en la respuesta
      responses:
        '200':
          description: Lista de tipos de producto obtenida exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  href:
                    type: string
                    description: url del tipo de producto
                  count:
                    type: integer
                    description: cantidad de registros
                  limit:
                    type: integer
                    description: limite de registros
                  offset:
                    type: integer
                    description: desplazamiento de registros
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        href:
                          type: string
                          description: url del tipo de producto
                        id:
                          type: integer
                          description: identificador único del tipo de producto
                        name:
                          type: string
                          description: nombre del tipo de producto
                        isService:
                          type: integer
                          description: indica si el tipo es un servicio (0 o 1)
                        state:
                          type: integer
                          description: estado del tipo de producto indica si el tipo esta activo(0) o inactivo (1)
                        itemCode:
                          type: string
                          description: código tributario del tipo de producto o servicio

  /product_types/{id}.json:
    get:
      tags:
        - Productos
      summary: Obtener un tipo de producto
      description: Retorna un tipo de producto específico
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: Identificador único del tipo de producto
      responses:
        '200':
          description: Tipo de producto obtenido exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  href:
                    type: string
                    description: url del tipo de producto
                  id:
                    type: integer
                    description: identificador único del tipo de producto
                  name:
                    type: string
                    description: nombre del tipo de producto
                  isService:
                    type: integer
                    description: indica si el tipo es un servicio (0 o 1)
                  state:
                    type: integer
                    description: estado del tipo de producto indica si el tipo esta activo(0) o inactivo (1)
                  itemCode:
                    type: string
                    description: código tributario del tipo de producto o servicio

  /product_types/count.json:
    get:
      tags:
        - Productos
      summary: Obtener cantidad de tipos de producto
      description: Retorna la cantidad de tipos de producto
      parameters:
        - in: query
          name: state
          schema:
            type: integer
          description: estado del tipo de producto (0 o 1)
      responses:
        '200':
          description: Cantidad de tipos de producto obtenida exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                    description: cantidad de tipos de producto



  /stocks.json:
    get:

      tags:
        - Stock
      summary: Listar stocks
      description: Retorna una lista de stocks por bodega
      parameters:
        - in: query
          name: limit
          schema:
            type: integer
          description: Limita la cantidad de ítems de una respuesta JSON
        - in: query
          name: offset
          schema:
            type: integer
          description: Permite paginar los ítems de una respuesta JSON
        - in: query
          name: fields
          schema:
            type: string
          description: Permite seleccionar qué campos se quieren traer
        - in: query
          name: expand
          schema:
            type: string
          description: Permite expandir nodos
        - in: query
          name: officeid
          schema:
            type: integer
          description: Filtra por sucursal
        - in: query
          name: variantid
          schema:
            type: integer
          description: Filtra por variante
      responses:
        '200':
          description: Lista de stocks obtenida exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  href:
                    type: string
                  count:
                    type: integer
                  limit:
                    type: integer
                  offset:
                    type: integer
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                        quantity:
                          type: number
                        office:
                          type: object
                        variant:
                          type: object
  
  /stocks/count.json:
    get:
      tags:
        - Stock
      summary: Contar stocks
      description: Retorna cantidad de registros de stock por bodega
      parameters:
        - in: query
          name: officeid
          schema:
            type: integer
          description: Filtra por sucursal
        - in: query
          name: variantid
          schema:
            type: integer
          description: Filtra por variante
      responses:
        '200':
          description: Cantidad de stocks obtenida exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
  
  /stock_control.json:
    post:
      tags:
        - Stock
      summary: Controlar stocks
      description: Permite actualizar el stock de una variante en una determinada sucursal
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                documentTypeId:
                  type: integer
                  description: Id del tipo de documento
                officeId:
                  type: integer
                  description: Id de la sucursal donde se actualizará el stock
                note:
                  type: string
                  description: Nota sobre el ajuste de stock
                details:
                  type: array
                  description: Detalles del documento
                  items:
                    type: object
                    properties:
                      variantId:
                        type: integer
                        description: Id de la variante
                      quantity:
                        type: number
                        description: Cantidad a ajustar (positivo suma, negativo resta)
                      cost:
                        type: number
                        description: Costo unitario de la variante
              required:
                - documentTypeId
                - officeId
                - details
      responses:
        '201':
          description: Stock actualizado exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                  href:
                    type: string
  
  /variant_stocks.json:
    get:
      tags:
        - Stock
      summary: Listar stocks de variante
      description: Retorna una lista con el stock de una variante por cada bodega
      parameters:
        - in: query
          name: code
          schema:
            type: string
          description: Código de la variante (SKU)
        - in: query
          name: barcode
          schema:
            type: string
          description: Código de barras de la variante
        - in: query
          name: productid
          schema:
            type: integer
          description: Id del producto
        - in: query
          name: officeid
          schema:
            type: integer
          description: Id de la sucursal
      responses:
        '200':
          description: Lista de stocks de variante obtenida exitosamente
  
  /variant_stocks/{id}.json:
    get:
      tags:
        - Stock
      summary: Obtener un stock de variante
      description: Retorna el stock de una variante específica
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: ID de la variante
      responses:
        '200':
          description: Stock de variante obtenido exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  href:
                    type: string
                  id:
                    type: integer
                  quantity:
                    type: number
                  variant:
                    type: object
                  office:
                    type: object
  
  /price_lists.json:
    get:
      tags:
        - Listas de precios
      summary: Listar listas de precios
      description: Retorna una lista de listas de precios
      parameters:
        - in: query
          name: limit
          schema:
            type: integer
          description: Limita la cantidad de items de una respuesta JSON
        - in: query
          name: offset
          schema:
            type: integer
          description: Permite paginar los items de una respuesta JSON
        - in: query
          name: fields
          schema:
            type: string
          description: Permite seleccionar qué campos se quieren traer
        - in: query
          name: state
          schema:
            type: integer
          description: Permite filtrar por estado
      responses:
        '200':
          description: Lista de precios obtenida exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  href:
                    type: string
                  count:
                    type: integer
                  limit:
                    type: integer
                  offset:
                    type: integer
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        href:
                          type: string
                        id:
                          type: integer
                        name:
                          type: string
                        description:
                          type: string
                        state:
                          type: integer
                        type:
                          type: integer
  
  /price_lists/{id}.json:
    get:
      tags:
        - Listas de precios
      summary: Obtener una lista de precios
      description: Retorna una lista de precios específica
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: ID de la lista de precios
      responses:
        '200':
          description: Lista de precios obtenida exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  href:
                    type: string
                  id:
                    type: integer
                  name:
                    type: string
                  description:
                    type: string
                  state:
                    type: integer
                  type:
                    type: integer
  
  /price_lists/count.json:
    get:
      tags:
        - Listas de precios
      summary: Contar listas de precios
      description: Retorna cantidad de registros de listas de precios
      parameters:
        - in: query
          name: state
          schema:
            type: integer
          description: Permite filtrar por estado
      responses:
        '200':
          description: Cantidad de listas de precios obtenida exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
  
  /price_lists/{id}/details.json:
    get:
      tags:
        - Listas de precios
      summary: Obtener detalles de una lista de precios
      description: Retorna detalles de una lista de precios específica
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: ID de la lista de precios
        - in: query
          name: limit
          schema:
            type: integer
          description: Limita la cantidad de items de una respuesta JSON
        - in: query
          name: offset
          schema:
            type: integer
          description: Permite paginar los items de una respuesta JSON
        - in: query
          name: fields
          schema:
            type: string
          description: Permite seleccionar qué campos se quieren traer
      responses:
        '200':
          description: Detalles de lista de precios obtenidos exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  href:
                    type: string
                  count:
                    type: integer
                  limit:
                    type: integer
                  offset:
                    type: integer
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        href:
                          type: string
                        id:
                          type: integer
                        variantId:
                          type: integer
                        variantValue:
                          type: number
                        variantValueWithTaxes:
                          type: number
  
  /variants/{id}/prices.json:
    get:
      tags:
        - Listas de precios
      summary: Obtener precios de una variante
      description: Retorna los precios de una variante específica
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: ID de la variante
      responses:
        '200':
          description: Precios de variante obtenidos exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  href:
                    type: string
                  count:
                    type: integer
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        href:
                          type: string
                        id:
                          type: integer
                        name:
                          type: string
                        variantValue:
                          type: number
                        variantValueWithTaxes:
                          type: number
  
  /clients.json:
    get:
      tags:
        - Clientes
      summary: Listar clientes
      description: Retorna una lista de clientes
      parameters:
        - in: query
          name: limit
          schema:
            type: integer
          description: Limita la cantidad de items de una respuesta JSON
        - in: query
          name: offset
          schema:
            type: integer
          description: Permite paginar los items de una respuesta JSON
        - in: query
          name: fields
          schema:
            type: string
          description: Permite seleccionar qué campos se quieren traer
        - in: query
          name: clientcode
          schema:
            type: string
          description: Permite filtrar por código del cliente
        - in: query
          name: municipality
          schema:
            type: string
          description: Permite filtrar por comuna del cliente
        - in: query
          name: city
          schema:
            type: string
          description: Permite filtrar por ciudad del cliente
        - in: query
          name: state
          schema:
            type: integer
          description: Permite filtrar por estado del cliente
      responses:
        '200':
          description: Lista de clientes obtenida exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  href:
                    type: string
                  count:
                    type: integer
                  limit:
                    type: integer
                  offset:
                    type: integer
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        href:
                          type: string
                        id:
                          type: integer
                        firstName:
                          type: string
                        lastName:
                          type: string
                        email:
                          type: string
                        phone:
                          type: string
                        address:
                          type: string
                        company:
                          type: string
                        state:
                          type: integer
    post:
      tags:
        - Clientes
      summary: Crear un cliente
      description: Crea un nuevo cliente
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                firstName:
                  type: string
                  description: Nombre del cliente
                lastName:
                  type: string
                  description: Apellido del cliente
                email:
                  type: string
                  description: Email del cliente
                phone:
                  type: string
                  description: Teléfono del cliente
                address:
                  type: string
                  description: Dirección del cliente
                company:
                  type: string
                  description: Razón social del cliente
                municipality:
                  type: string
                  description: Comuna del cliente
                city:
                  type: string
                  description: Ciudad del cliente
                activity:
                  type: string
                  description: Giro del cliente
                companyId:
                  type: string
                  description: RUT de la empresa
      responses:
        '201':
          description: Cliente creado exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                  href:
                    type: string
  
  /clients/{id}.json:
    get:
      tags:
        - Clientes
      summary: Obtener un cliente
      description: Retorna un cliente específico
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: ID del cliente
      responses:
        '200':
          description: Cliente obtenido exitosamente
    put:
      tags:
        - Clientes
      summary: Actualizar un cliente
      description: Actualiza un cliente existente
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: ID del cliente
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                firstName:
                  type: string
                lastName:
                  type: string
                email:
                  type: string
                phone:
                  type: string
                address:
                  type: string
                company:
                  type: string
                municipality:
                  type: string
                city:
                  type: string
                activity:
                  type: string
                companyId:
                  type: string
      responses:
        '200':
          description: Cliente actualizado exitosamente
  
  /clients/count.json:
    get:
      tags:
        - Clientes
      summary: Contar clientes
      description: Retorna la cantidad total de clientes
      parameters:
        - in: query
          name: state
          schema:
            type: integer
          description: Permite filtrar por estado del cliente
      responses:
        '200':
          description: Cantidad de clientes obtenida exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
  
  /payment_types.json:
    get:
      tags:
        - Clientes
      summary: Listar formas de pago
      description: Retorna una lista de formas de pago
      parameters:
        - in: query
          name: limit
          schema:
            type: integer
          description: Limita la cantidad de items de una respuesta JSON
        - in: query
          name: offset
          schema:
            type: integer
          description: Permite paginar los items de una respuesta JSON
        - in: query
          name: fields
          schema:
            type: string
          description: Permite seleccionar qué campos se quieren traer
        - in: query
          name: state
          schema:
            type: integer
          description: Permite filtrar por estado
      responses:
        '200':
          description: Lista de formas de pago obtenida exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  href:
                    type: string
                  count:
                    type: integer
                  limit:
                    type: integer
                  offset:
                    type: integer
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        href:
                          type: string
                        id:
                          type: integer
                        name:
                          type: string
                        maxInstallments:
                          type: integer
                        state:
                          type: integer
  
  /payment_types/{id}.json:
    get:
      tags:
        - Clientes
      summary: Obtener una forma de pago
      description: Retorna una forma de pago específica
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: ID de la forma de pago
      responses:
        '200':
          description: Forma de pago obtenida exitosamente
  
  /payments.json:
    get:
      tags:
        - Pagos
      summary: Listar pagos
      description: Retorna una lista de pagos
      parameters:
        - in: query
          name: limit
          schema:
            type: integer
          description: Limita la cantidad de items de una respuesta JSON
        - in: query
          name: offset
          schema:
            type: integer
          description: Permite paginar los items de una respuesta JSON
        - in: query
          name: fields
          schema:
            type: string
          description: Permite seleccionar qué campos se quieren traer
        - in: query
          name: documentid
          schema:
            type: integer
          description: Permite filtrar por ID del documento
        - in: query
          name: state
          schema:
            type: integer
          description: Permite filtrar por estado
      responses:
        '200':
          description: Lista de pagos obtenida exitosamente
    post:
      tags:
        - Pagos
      summary: Crear un pago
      description: Crea un nuevo pago
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                documentId:
                  type: integer
                  description: ID del documento a pagar
                paymentTypeId:
                  type: integer
                  description: ID del tipo de pago
                amount:
                  type: number
                  description: Monto del pago
                state:
                  type: integer
                  description: Estado del pago
              required:
                - documentId
                - paymentTypeId
                - amount
      responses:
        '201':
          description: Pago creado exitosamente
  
  /payments/{id}.json:
    get:
      tags:
        - Pagos
      summary: Obtener un pago
      description: Retorna un pago específico
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: ID del pago
      responses:
        '200':
          description: Pago obtenido exitosamente

  /ecommerce_payments.json:
    get:
      tags:
        - Pagos
      summary: Listar pagos e-commerce
      description: Retorna todos los pagos realizados por e-commerce.
      responses:
        '200':
          description: Lista de pagos e-commerce obtenida exitosamente

  /ecommerce_payments/{id}.json:
    get:
      tags:
        - Pagos
      summary: Obtener un pago e-commerce
      description: Retorna un pago e-commerce específico.
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: ID del pago e-commerce
      responses:
        '200':
          description: Pago e-commerce obtenido exitosamente
  /coupons.json:
    get:
      tags:
        - Cupones
      summary: Listar cupones
      description: Retorna todos los cupones de descuento.
      responses:
        '200':
          description: Lista de cupones obtenida exitosamente

  /coupons/{id}.json:
    get:
      tags:
        - Cupones
      summary: Obtener un cupón
      description: Retorna un cupón específico.
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: ID del cupón
      responses:
        '200':
          description: Cupón obtenido exitosamente
  /web_descriptions.json:
    get:
      tags:
        - Tienda web
      summary: Listar descripciones web
      description: Retorna todas las descripciones web de productos.
      responses:
        '200':
          description: Lista de descripciones web obtenida exitosamente

  /web_descriptions/{id}.json:
    get:
      tags:
        - Tienda web
      summary: Obtener una descripción web
      description: Retorna una descripción web específica.
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: ID de la descripción web
      responses:
        '200':
          description: Descripción web obtenida exitosamente
  /web_orders.json:
    get:
      tags:
        - Tienda web
      summary: Listar pedidos web
      description: Retorna todos los pedidos web.
      responses:
        '200':
          description: Lista de pedidos web obtenida exitosamente

  /web_orders/{id}.json:
    get:
      tags:
        - Tienda web
      summary: Obtener un pedido web
      description: Retorna un pedido web específico.
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: ID del pedido web
      responses:
        '200':
          description: Pedido web obtenido exitosamente
  /taxes.json:
    get:
      tags:
        - Información SII
      summary: Listar impuestos
      description: Retorna todos los impuestos configurados.
      responses:
        '200':
          description: Lista de impuestos obtenida exitosamente

  /taxes/{id}.json:
    get:
      tags:
        - Información SII
      summary: Obtener un impuesto
      description: Retorna un impuesto específico.
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: ID del impuesto
      responses:
        '200':
          description: Impuesto obtenido exitosamente
  /tax_codes.json:
    get:
      tags:
        - Información SII
      summary: Listar códigos tributarios
      description: Retorna todos los códigos tributarios disponibles.
      responses:
        '200':
          description: Lista de códigos tributarios obtenida exitosamente

  /tax_codes/{id}.json:
    get:
      tags:
        - Información SII
      summary: Obtener un código tributario
      description: Retorna un código tributario específico.
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: ID del código tributario
      responses:
        '200':
          description: Código tributario obtenido exitosamente
  /book_types.json:
    get:
      tags:
        - Información SII
      summary: Listar tipos de libros
      description: Retorna todos los tipos de libros disponibles.
      responses:
        '200':
          description: Lista de tipos de libros obtenida exitosamente

  /book_types/{id}.json:
    get:
      tags:
        - Información SII
      summary: Obtener un tipo de libro
      description: Retorna un tipo de libro específico.
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: ID del tipo de libro
      responses:
        '200':
          description: Tipo de libro obtenido exitosamente
  /sale_conditions.json:
    get:
      tags:
        - Formas de pago
      summary: Listar condiciones de venta
      description: Retorna todas las condiciones de venta configuradas.
      responses:
        '200':
          description: Lista de condiciones de venta obtenida exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  count:
                    type: integer
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: integer
                        name:
                          type: string
                        state:
                          type: integer

  /sale_conditions/{id}.json:
    get:
      tags:
        - Formas de pago
      summary: Obtener una condición de venta
      description: Retorna una condición de venta específica.
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: ID de la condición de venta
      responses:
        '200':
          description: Condición de venta obtenida exitosamente

  /shippings.json:
    get:
      tags:
        - Despachos
      summary: Listar despachos
      description: Retorna todos los despachos generados.
      parameters:
        - in: query
          name: limit
          schema:
            type: integer
          description: Limita la cantidad de ítems de una respuesta JSON (máx 50, por defecto 25).
        - in: query
          name: offset
          schema:
            type: integer
          description: Permite paginar los ítems de una respuesta JSON (por defecto 0).
        - in: query
          name: fields
          schema:
            type: string
          description: Solo devolver atributos específicos de un recurso.
        - in: query
          name: expand
          schema:
            type: string
          description: Permite expandir instancias y colecciones para traer relaciones en una sola petición.
        - in: query
          name: shippingdate
          schema:
            type: integer
          description: Filtra por fecha de despacho.
        - in: query
          name: officeid
          schema:
            type: integer
          description: Filtra por sucursal.
        - in: query
          name: shippingtypeid
          schema:
            type: integer
          description: Filtra por tipo de despacho.
        - in: query
          name: state
          schema:
            type: integer
          description: Indica si los despachos están activos (0) o inactivos (1).
        - in: query
          name: documentid
          schema:
            type: integer
          description: Filtra por documento guía de despacho.
      responses:
        '200':
          description: Lista de despachos obtenida exitosamente.
          content:
            application/json:
              schema:
                type: object
                properties:
                  href:
                    type: string
                  count:
                    type: integer
                  limit:
                    type: integer
                  offset:
                    type: integer
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        href:
                          type: string
                        id:
                          type: integer
                        shippingDate:
                          type: integer
                        address:
                          type: string
                        municipality:
                          type: string
                        city:
                          type: string
                        recipient:
                          type: string
                        state:
                          type: integer
                        office:
                          type: object
                        shipping_type:
                          type: object
                        guide:
                          type: object
                        details:
                          type: object
    post:
      tags:
        - Despachos
      summary: Crear un despacho
      description: Crea un nuevo documento del tipo despacho.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                documentTypeId:
                  type: integer
                  description: ID del tipo de documento.
                officeId:
                  type: integer
                  description: ID de la sucursal donde se emite el documento.
                priceListId:
                  type: integer
                  description: ID de la lista de precios utilizada.
                emissionDate:
                  type: integer
                  description: Fecha de emisión del documento.
                shippingTypeId:
                  type: integer
                  description: ID del tipo de despacho.
                municipality:
                  type: string
                  description: Comuna de despacho.
                address:
                  type: string
                  description: Dirección de despacho.
                recipient:
                  type: string
                  description: Nombre del destinatario.
                details:
                  type: array
                  items:
                    type: object
                    properties:
                      quantity:
                        type: integer
                      code:
                        type: string
                      netUnitValue:
                        type: number
                client:
                  type: object
                  properties:
                    code:
                      type: string
                    municipality:
                      type: string
                    activity:
                      type: string
                    company:
                      type: string
                    city:
                      type: string
                    email:
                      type: string
                    address:
                      type: string
              required:
                - documentTypeId
                - officeId
                - emissionDate
                - shippingTypeId
      responses:
        '201':
          description: Despacho creado exitosamente.
          content:
            application/json:
              schema:
                type: object
                properties:
                  href:
                    type: string
                  id:
                    type: integer
                  shippingDate:
                    type: integer
                  address:
                    type: string
                  municipality:
                    type: string
                  city:
                    type: string
                  recipient:
                    type: string
                  state:
                    type: integer
                  office:
                    type: object
                  shipping_type:
                    type: object
                  guide:
                    type: object
                  details:
                    type: object

  /shippings/{id}.json:
    get:
      tags:
        - Despachos
      summary: Obtener un despacho
      description: Retorna un despacho específico.
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: ID del despacho.
        - in: query
          name: expand
          schema:
            type: string
          description: Permite expandir instancias y colecciones.
      responses:
        '200':
          description: Despacho obtenido exitosamente.
          content:
            application/json:
              schema:
                type: object
                properties:
                  href:
                    type: string
                  id:
                    type: integer
                  shippingDate:
                    type: integer
                  address:
                    type: string
                  municipality:
                    type: string
                  city:
                    type: string
                  recipient:
                    type: string
                  state:
                    type: integer
                  office:
                    type: object
                  shipping_type:
                    type: object
                  guide:
                    type: object
                  details:
                    type: object

  /shippings/{id}/details.json:
    get:
      tags:
        - Despachos
      summary: Obtener detalles de un despacho
      description: Retorna los detalles de un despacho específico.
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: ID del despacho.
      responses:
        '200':
          description: Detalles del despacho obtenidos exitosamente.
          content:
            application/json:
              schema:
                type: object
                properties:
                  href:
                    type: string
                  count:
                    type: integer
                  limit:
                    type: integer
                  offset:
                    type: integer
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        href:
                          type: string
                        id:
                          type: integer
                        quantity:
                          type: integer
                        variantStock:
                          type: integer
                        variantCost:
                          type: number
                        variant:
                          type: object

  /dynamic_attributes.json:
    get:
      tags:
        - Configuración
      summary: Listar atributos dinámicos
      description: Retorna una lista de los atributos dinámicos
      parameters:
        - in: query
          name: limit
          schema:
            type: integer
          description: Limita la cantidad de items de una respuesta JSON
        - in: query
          name: offset
          schema:
            type: integer
          description: Permite paginar los items de una respuesta JSON
        - in: query
          name: fields
          schema:
            type: string
          description: Permite seleccionar qué campos se quieren traer
      responses:
        '200':
          description: Lista de atributos dinámicos obtenida exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  href:
                    type: string
                  count:
                    type: integer
                  limit:
                    type: integer
                  offset:
                    type: integer
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        href:
                          type: string
                        id:
                          type: integer
                        name:
                          type: string
                        codeSii:
                          type: string
                        state:
                          type: integer
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /dynamic_attributes/{id}.json:
    get:
      tags:
        - Configuración
      summary: Obtener un atributo dinámico
      description: Retorna un atributo dinámico específico
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: ID del atributo dinámico
      responses:
        '200':
          description: Atributo dinámico obtenido exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  href:
                    type: string
                  id:
                    type: integer
                  name:
                    type: string
                  codeSii:
                    type: string
                  state:
                    type: integer

  /discounts.json:
    get:
      tags:
        - Descuentos
      summary: Listar descuentos
      description: Retorna una lista de descuentos
      parameters:
        - in: query
          name: limit
          schema:
            type: integer
          description: Limita la cantidad de items de una respuesta JSON
        - in: query
          name: offset
          schema:
            type: integer
          description: Permite paginar los items de una respuesta JSON
        - in: query
          name: fields
          schema:
            type: string
          description: Permite seleccionar qué campos se quieren traer
        - in: query
          name: state
          schema:
            type: integer
          description: Permite filtrar por estado
      responses:
        '200':
          description: Lista de descuentos obtenida exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  href:
                    type: string
                  count:
                    type: integer
                  limit:
                    type: integer
                  offset:
                    type: integer
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        href:
                          type: string
                        id:
                          type: integer
                        name:
                          type: string
                        state:
                          type: integer
                        percentage:
                          type: number

  /discounts/{id}.json:
    get:
      tags:
        - Descuentos
      summary: Obtener un descuento
      description: Retorna un descuento específico
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: ID del descuento
      responses:
        '200':
          description: Descuento obtenido exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  href:
                    type: string
                  id:
                    type: integer
                  name:
                    type: string
                  state:
                    type: integer
                  percentage:
                    type: number

  /offices.json:
    get:
      tags:
        - Sucursales
      summary: Listar sucursales
      description: Retorna una lista de sucursales
      parameters:
        - in: query
          name: limit
          schema:
            type: integer
          description: Limita la cantidad de items de una respuesta JSON
        - in: query
          name: offset
          schema:
            type: integer
          description: Permite paginar los items de una respuesta JSON
        - in: query
          name: fields
          schema:
            type: string
          description: Permite seleccionar qué campos se quieren traer
        - in: query
          name: state
          schema:
            type: integer
          description: Permite filtrar por estado
      responses:
        '200':
          description: Lista de sucursales obtenida exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  href:
                    type: string
                  count:
                    type: integer
                  limit:
                    type: integer
                  offset:
                    type: integer
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        href:
                          type: string
                        id:
                          type: integer
                        name:
                          type: string
                        state:
                          type: integer
                        address:
                          type: string
                        country:
                          type: string
                        city:
                          type: string
                        municipality:
                          type: string
                        costCenter:
                          type: string
                        description:
                          type: string
                        latitude:
                          type: number
                        longitude:
                          type: number

  /offices/{id}.json:
    get:
      tags:
        - Sucursales
      summary: Obtener una sucursal
      description: Retorna una sucursal específica
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: ID de la sucursal
      responses:
        '200':
          description: Sucursal obtenida exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  href:
                    type: string
                  id:
                    type: integer
                  name:
                    type: string
                  state:
                    type: integer
                  address:
                    type: string
                  country:
                    type: string
                  city:
                    type: string
                  municipality:
                    type: string
                  costCenter:
                    type: string
                  description:
                    type: string
                  latitude:
                    type: number
                  longitude:
                    type: number

  /users.json:
    get:
      tags:
        - Configuración
      summary: Listar usuarios
      description: Retorna una lista de usuarios
      parameters:
        - in: query
          name: limit
          schema:
            type: integer
          description: Limita la cantidad de items de una respuesta JSON
        - in: query
          name: offset
          schema:
            type: integer
          description: Permite paginar los items de una respuesta JSON
        - in: query
          name: fields
          schema:
            type: string
          description: Permite seleccionar qué campos se quieren traer
        - in: query
          name: profileid
          schema:
            type: integer
          description: Permite filtrar por ID del perfil
        - in: query
          name: officeid
          schema:
            type: integer
          description: Permite filtrar por ID de la sucursal
        - in: query
          name: state
          schema:
            type: integer
          description: Permite filtrar por estado
      responses:
        '200':
          description: Lista de usuarios obtenida exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  href:
                    type: string
                  count:
                    type: integer
                  limit:
                    type: integer
                  offset:
                    type: integer
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        href:
                          type: string
                        id:
                          type: integer
                        firstName:
                          type: string
                        lastName:
                          type: string
                        email:
                          type: string
                        state:
                          type: integer

  /users/{id}.json:
    get:
      tags:
        - Configuración
      summary: Obtener un usuario
      description: Retorna un usuario específico
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: ID del usuario
      responses:
        '200':
          description: Usuario obtenido exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  href:
                    type: string
                  id:
                    type: integer
                  firstName:
                    type: string
                  lastName:
                    type: string
                  email:
                    type: string
                  state:
                    type: integer

  /currencies.json:
    get:
      tags:
        - Configuración
      summary: Listar monedas
      description: Retorna una lista de monedas
      parameters:
        - in: query
          name: limit
          schema:
            type: integer
          description: Limita la cantidad de items de una respuesta JSON
        - in: query
          name: offset
          schema:
            type: integer
          description: Permite paginar los items de una respuesta JSON
        - in: query
          name: fields
          schema:
            type: string
          description: Permite seleccionar qué campos se quieren traer
      responses:
        '200':
          description: Lista de monedas obtenida exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  href:
                    type: string
                  count:
                    type: integer
                  limit:
                    type: integer
                  offset:
                    type: integer
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        href:
                          type: string
                        id:
                          type: integer
                        name:
                          type: string
                        symbol:
                          type: string
                        decimals:
                          type: integer
                        state:
                          type: integer
                        exchange:
                          type: number

  /currencies/{id}.json:
    get:
      tags:
        - Configuración
      summary: Obtener una moneda
      description: Retorna una moneda específica
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: ID de la moneda
      responses:
        '200':
          description: Moneda obtenida exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  href:
                    type: string
                  id:
                    type: integer
                  name:
                    type: string
                  symbol:
                    type: string
                  decimals:
                    type: integer
                  state:
                    type: integer
                  exchange:
                    type: number

